{"version":3,"file":"student_info_forms.min.js","sources":["../src/student_info_forms.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module for handling thesis and mobility modal forms.\n *\n * @module     mod_projetvet/student_info_forms\n * @copyright  2025 Bas Brands <bas@sonsbeekmedia.nl>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport ModalForm from 'core_form/modalform';\n\n/**\n * Initialize the module.\n */\nexport const init = () => {\n    // Handle thesis form button clicks.\n    document.addEventListener('click', (e) => {\n        const thesisButton = e.target.closest('[data-action=\"thesis-form\"]');\n        if (thesisButton) {\n            e.preventDefault();\n            showThesisForm(thesisButton);\n        }\n\n        const mobilityButton = e.target.closest('[data-action=\"mobility-form\"]');\n        if (mobilityButton) {\n            e.preventDefault();\n            showMobilityForm(mobilityButton);\n        }\n    });\n};\n\n/**\n * Show the thesis form modal.\n *\n * @param {HTMLElement} button The button that was clicked\n */\nconst showThesisForm = (button) => {\n    const cmid = button.dataset.cmid;\n    const projetvetid = button.dataset.projetvetid;\n    const userid = button.dataset.userid;\n\n    const modalForm = new ModalForm({\n        formClass: 'mod_projetvet\\\\form\\\\thesis_form',\n        args: {\n            cmid: cmid,\n            projetvetid: projetvetid,\n            userid: userid,\n        },\n        modalConfig: {\n            title: 'Thesis Subject',\n        },\n        returnFocus: button,\n    });\n\n    modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, () => {\n        window.location.reload();\n    });\n\n    modalForm.show();\n};\n\n/**\n * Show the mobility form modal.\n *\n * @param {HTMLElement} button The button that was clicked\n */\nconst showMobilityForm = (button) => {\n    const cmid = button.dataset.cmid;\n    const projetvetid = button.dataset.projetvetid;\n    const userid = button.dataset.userid;\n\n    const modalForm = new ModalForm({\n        formClass: 'mod_projetvet\\\\form\\\\mobility_form',\n        args: {\n            cmid: cmid,\n            projetvetid: projetvetid,\n            userid: userid,\n        },\n        modalConfig: {\n            title: 'International Mobility',\n        },\n        returnFocus: button,\n    });\n\n    modalForm.addEventListener(modalForm.events.FORM_SUBMITTED, () => {\n        window.location.reload();\n    });\n\n    modalForm.show();\n};\n"],"names":["document","addEventListener","e","thesisButton","target","closest","preventDefault","showThesisForm","mobilityButton","showMobilityForm","button","cmid","dataset","projetvetid","userid","modalForm","ModalForm","formClass","args","modalConfig","title","returnFocus","events","FORM_SUBMITTED","window","location","reload","show"],"mappings":";;;;;;;8JA4BoB,KAEhBA,SAASC,iBAAiB,SAAUC,UAC1BC,aAAeD,EAAEE,OAAOC,QAAQ,+BAClCF,eACAD,EAAEI,iBACFC,eAAeJ,qBAGbK,eAAiBN,EAAEE,OAAOC,QAAQ,iCACpCG,iBACAN,EAAEI,iBACFG,iBAAiBD,2BAUvBD,eAAkBG,eACdC,KAAOD,OAAOE,QAAQD,KACtBE,YAAcH,OAAOE,QAAQC,YAC7BC,OAASJ,OAAOE,QAAQE,OAExBC,UAAY,IAAIC,mBAAU,CAC5BC,UAAW,mCACXC,KAAM,CACFP,KAAMA,KACNE,YAAaA,YACbC,OAAQA,QAEZK,YAAa,CACTC,MAAO,kBAEXC,YAAaX,SAGjBK,UAAUd,iBAAiBc,UAAUO,OAAOC,gBAAgB,KACxDC,OAAOC,SAASC,YAGpBX,UAAUY,QAQRlB,iBAAoBC,eAChBC,KAAOD,OAAOE,QAAQD,KACtBE,YAAcH,OAAOE,QAAQC,YAC7BC,OAASJ,OAAOE,QAAQE,OAExBC,UAAY,IAAIC,mBAAU,CAC5BC,UAAW,qCACXC,KAAM,CACFP,KAAMA,KACNE,YAAaA,YACbC,OAAQA,QAEZK,YAAa,CACTC,MAAO,0BAEXC,YAAaX,SAGjBK,UAAUd,iBAAiBc,UAAUO,OAAOC,gBAAgB,KACxDC,OAAOC,SAASC,YAGpBX,UAAUY"}